<!doctype html>
<html lang="en">
<head>
	<title>Upload - Overview</title>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="description" content="Overview" />
	<meta name="keywords" content="" />
	<meta name="author" content="ComponentOne" />
	<link href="../base-reset.css" rel="stylesheet" type="text/css" />
	<link href="../../themes/aristo/jquery-wijmo.css" rel="stylesheet" type="text/css" />
	<link href="../demos-single.css" rel="stylesheet" type="text/css" />
	<link href="../../themes/wijmo/jquery.wijmo-open.2.1.4.css" rel="stylesheet" type="text/css" />
	<link href="../../themes/wijmo/jquery.wijmo.wijupload.css" rel="stylesheet" type="text/css" />
	<script src="../../external/jquery-1.7.1.min.js" type="text/javascript"></script>
	<script src="../../external/jquery-ui-1.8.18.custom.min.js" type="text/javascript"></script>
    <script src="../../external/jquery.wijmo-open.all.2.1.4.min.js" type="text/javascript"></script>
	<script src="../../wijmo/jquery.wijmo.wijupload.js" type="text/javascript"></script>
	<style type="text/css">
	.Loading
	{
		width: 37px;
		height: 37px;
		background-image: url("../images/waiting.gif");
	}
	</style>
	<script id="script1" type="text/javascript">
		var supportXhr;
		$(document).ready(function () {
		    var progressbar = $("#progressbar");
		    var upload = $("#upload").wijupload({
		        accept: "image/*",
		        change: function (e, data) {
		        },
		        upload: function (e, data) {
		        },
		        totalUpload: function () {
		            progressbar.show();
		        },
		        complete: function (e, data) {
		        },
		        totalComplete: function (e, data) {

		            progressbar.fadeOut(1500, function () {
		                if (supportXhr) {
		                    $("#progressbar").wijprogressbar("option", "value", 0);
		                }
		            });
		            if ($.browser.msie) {
		                if (data.response !== "Succeed") {
		                    alert("Upload failed!");
                        }
		            }
		            else if (data.e.currentTarget.status != 200) {
		                alert("Upload failed!");
		            }
		        },
		        totalProgress: function (e, data) {
		            if (supportXhr) {
		                $("#progressbar").wijprogressbar("option", "maxValue", data.total);
		                $("#progressbar").wijprogressbar("option", "value", data.loaded);
		            }
		        },
		        action: "http://localhost:2164/Main/Widgets/Wijmo-Complete/development-bundle/samples/upload/upload.ashx?id=123&name=Daniel"
		    });
		    supportXhr = $("#upload").wijupload("supportXhr");
		    if (supportXhr) {
		        progressbar.wijprogressbar({ value: 0 });
		    } else {
		        progressbar.addClass("Loading");
		    }
		    progressbar.hide();
		});
	</script>
</head>
<body class="demo-single">
	<div class="container">
		<div class="header">
			<h2>
				Overview</h2>
		</div>
		<div class="main demo">
			<!-- Begin demo markup -->
			<div id="upload" style="width: 300px">
			</div>
			<div id="progressbar"></div>
			<!-- End demo markup -->
			<div class="demo-options">
				<!-- Begin options markup -->
				<!-- End options markup -->
			</div>
		</div>
		<div class="footer demo-description">
        <p>
        The wijupload widget can replace file inputs in your web forms or exist as an asynchronous uploader. It support multiple files and can be hooked up with Ajax to display real-time upload progress.
        </p>
		</div>
	</div>
</body>
</html>
